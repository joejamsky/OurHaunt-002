const voiceForm=document.getElementById("voice-form"),voiceFormInput=document.getElementById("voice-input"),voiceFormMicButton=document.getElementById("voice-mic-button");function getRandomInt(e){return Math.floor(Math.random()*e)}function handleTextArray(e){return 1===e.length?e[0]:e.slice(0,-1).join(", ")+", and "+e[e.length-1]}var fontarr=["font-family: courier new, sans-serif","font-family: comic sans, sans-serif","font-family: arial black, sans-serif"];function fontRandomizer(e){return'<span style="'+fontarr[Math.floor((3*Math.random()+1)%3)]+'">'+e+"</span>"}function typeWriterEffect(e,t="voice-response",a=250){const o=document.getElementById(t);let r="",i=0;!function t(){i<e.length&&(r+=e.charAt(i),o.innerText=r,i++,setTimeout(t,a))}()}function checkInputPhrase(e){switch(e){case"how old are you":case"how young are you":case"what is your age":case"age":typeWriterEffect(monsterData.age);break;case"what's your name":case"what is your name":case"what can i call you":case"can you give me your name":case"name":typeWriterEffect(monsterData.name);break;case"what is your birth date":case"what is your birthday":case"when is your birth date":case"when is your birthday":case"what day were you born":case"when were you born":case"birth date":case"birthday":typeWriterEffect(`I was born ${monsterData.birthDate.month}/${monsterData.birthDate.day}/${monsterData.birthDate.year}.`);break;case"what is your death date":case"what is your death day":case"when is your death date":case"when is your death day":case"death date":case"death day":typeWriterEffect(`I died ${monsterData.deathDate.month}/${monsterData.deathDate.day}/${monsterData.deathDate.year}.`);break;case"how did you die":case"what was your cause of death":case"cause of death":typeWriterEffect(monsterData.deathCause);break;case"what do you want":case"why are you here":case"what is your motive":case"how can i help":typeWriterEffect(monsterData.motive);break;case"where you from":case"where are you from":typeWriterEffect(`I am from ${monsterData.address.city}.`);break;case"what do you like to do":case"what did you like to do":case"hobbies":typeWriterEffect(`I liked ${handleTextArray(monsterData.hobbies)}.`);break;case"are you telling the truth":monsterData.honest||0===getRandomInt(2)?typeWriterEffect("Yes."):typeWriterEffect("No.");break;case"do you have a mother":case"where is your mother":case"mother":monsterData.relationships.mom?typeWriterEffect("I have a mother but I don't know where she is"):typeWriterEffect("I don't have a mother");break;case"what was your job":case"job":case"occupation":typeWriterEffect(monsterData.occupation);break;case"were you rich":case"were you poor":case"how much money did you make":case"how much were you worth":case"income":typeWriterEffect(monsterData.income);break;case"what is your favorite food":case"do you have a favorite food":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.food)}.`);break;case"what is your favorite book":case"do you have a favorite book":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.book)}.`);break;case"what is your favorite place":case"do you have a favorite place":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.place)}.`);break;case"what is your favorite band":case"do you have a favorite band":case"who is your favorite musician":case"do you have a favorite musician":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.music)}.`);break;case"what is your favorite film":case"do you have a favorite film":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.film)}.`);break;case"what is your favorite sports team":case"what is your favorite sport":case"do you have a favorite sports team":case"do you have a favorite sport":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.sport)}.`);break;case"do you have a favorite animal":typeWriterEffect(`I liked ${handleTextArray(monsterData.favorites.animal)}.`);break;default:typeWriterEffect("...?"),addHostility()}}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(SpeechRecognition){console.log("Speech recognition connected.");const e=new SpeechRecognition;e.continuous=!0;const t=voiceFormMicButton.firstElementChild,a=document.getElementsByClassName("voice-light-bulb")[0];function micBtnClick(){t.classList.contains("fa-microphone")?e.start():e.stop()}function startSpeechRecognition(){t.classList.remove("fa-microphone"),t.classList.add("fa-ear-listen"),a.classList.remove("voice-light-off"),voiceFormInput.focus(),console.log("Voice activated, SPEAK")}var transcript;function endSpeechRecognition(){t.classList.remove("fa-ear-listen"),t.classList.add("fa-microphone"),a.classList.add("voice-light-off"),voiceFormInput.focus(),console.log("Speech recognition service disconnected"),checkInputPhrase(transcript.toLowerCase().trim())}function resultOfSpeechRecognition(t){const a=t.resultIndex;transcript=t.results[a][0].transcript,console.log("transcript",transcript),"close channel"===transcript.toLowerCase().trim()?e.stop():voiceFormInput.value?"go"===transcript.toLowerCase().trim()||("reset input"===transcript.toLowerCase().trim()?voiceFormInput.value="":voiceFormInput.value=transcript):voiceFormInput.value=transcript}voiceFormMicButton.addEventListener("click",micBtnClick),e.addEventListener("start",startSpeechRecognition),e.addEventListener("end",endSpeechRecognition),e.addEventListener("result",resultOfSpeechRecognition)}else console.log("Your Browser does not support speech Recognition"),alert("Your Browser does not support Speech Recognition");