function renderOscilloscope(){const t=new(window.AudioContext||window.webkitAudioContext);fetch("./dist/assets/audio/ImperialMarch60.wav").then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e))).then((e=>{e.getChannelData(0);const n=document.getElementById("oscilloscope-svg"),o=n.clientWidth,i=n.clientHeight;n.innerHTML="";const s=document.createElementNS("http://www.w3.org/2000/svg","polyline");s.setAttribute("fill","none"),s.setAttribute("stroke","white"),s.setAttribute("stroke-width","1"),n.appendChild(s);const r=t.createAnalyser();r.fftSize=2048;const c=t.createBufferSource();c.buffer=e,c.connect(r),r.connect(t.destination);const a=()=>{const e=new Float32Array(r.fftSize);r.getFloatTimeDomainData(e);const n=Math.floor(e.length/o),c=i/2;let l="";for(let t=0;t<o;t++){const o=(t+1)*n;let s=0;for(let i=t*n;i<o;i++){const t=Math.abs(e[i]);s=Math.max(s,t)}l+=`${t},${i/2-s*c} `}s.setAttribute("points",l),"running"===t.state&&requestAnimationFrame(a)};c.start(),a()})).catch((t=>console.error("Error loading audio:",t)))}const listenButton=document.getElementById("listen");listenButton.addEventListener("click",(()=>{renderOscilloscope()}));