const audioFileUrl="../assets/audio/ImperialMarch60.wav",audioContext=new(window.AudioContext||window.webkitAudioContext);let oscilloscopeActive=!1;function renderOscilloscope(e){const t=document.getElementById("oscilloscope-svg"),o=t.clientWidth,l=t.clientHeight;t.innerHTML="";const s=document.createElementNS("http://www.w3.org/2000/svg","polyline");s.setAttribute("fill","none"),s.setAttribute("stroke","white"),s.setAttribute("stroke-width","1"),t.appendChild(s);const i=audioContext.createAnalyser();i.fftSize=256;const c=audioContext.createBufferSource();c.buffer=e,c.connect(i);const n=()=>{const e=new Float32Array(i.fftSize);i.getFloatTimeDomainData(e);const t=Math.floor(e.length/o),c=l/2;let a="";for(let s=0;s<o;s++){const o=(s+1)*t;let i=0;for(let l=s*t;l<o;l++){const t=Math.abs(e[l]);i=Math.max(i,t)}a+=`${s},${l/2-i*c} `}s.setAttribute("points",a),"running"===audioContext.state&&requestAnimationFrame(n)};c.start(),n()}function toggleOscilloscope(){oscilloscopeActive=!oscilloscopeActive}function activateOscilloscope(){oscilloscopeActive=!0}function disableOscilloscope(){oscilloscopeActive=!1}const oscilloscopeSliderInteger=document.getElementById("oscilloscope-slider-integer"),oscilloscopeSliderDecimal=document.getElementById("oscilloscope-slider-decimal"),oscilloscopeValueInteger=document.getElementById("oscilloscope-value-integer"),oscilloscopeValueDecimal=document.getElementById("oscilloscope-value-decimal"),oscilloscopeGlyphs=["alien2.svg","angel3.svg","rune3.svg","pentagram2.svg","rune2.svg"];oscilloscopeSliderInteger.addEventListener("input",(e=>{oscilloscopeValueInteger.innerHTML=`${parseFloat(e.target.value)}`})),oscilloscopeSliderDecimal.addEventListener("input",(e=>{oscilloscopeValueDecimal.innerHTML=`<img src='./assets/icons/${oscilloscopeGlyphs[parseFloat(e.target.value)]}' />`}));