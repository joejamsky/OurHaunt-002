const audioFileUrl="../assets/audio/ImperialMarch60.wav",audioContext=new(window.AudioContext||window.webkitAudioContext);let oscilloscopeActive=!1;function renderOscilloscope(t){const e=document.getElementById("oscilloscope-svg"),o=e.clientWidth,n=e.clientHeight;console.log("width",o),console.log("height",n),e.innerHTML="";const i=document.createElementNS("http://www.w3.org/2000/svg","polyline");i.setAttribute("fill","none"),i.setAttribute("stroke","white"),i.setAttribute("stroke-width","1"),e.appendChild(i);const c=audioContext.createAnalyser();c.fftSize=256;const l=audioContext.createBufferSource();console.log("audioBuffer",t),l.buffer=t,l.connect(c),console.log("analyserNode2",c);const s=()=>{const t=new Float32Array(c.fftSize);c.getFloatTimeDomainData(t);const e=Math.floor(t.length/o),l=n/2;let a="";for(let i=0;i<o;i++){const o=(i+1)*e;let c=0;for(let n=i*e;n<o;n++){const e=Math.abs(t[n]);c=Math.max(c,e)}a+=`${i},${n/2-c*l} `}i.setAttribute("points",a),"running"===audioContext.state&&requestAnimationFrame(s)};l.start(),s()}function toggleOscilloscope(){oscilloscopeActive=!oscilloscopeActive}const oscilloscopeButton=document.getElementById("oscilloscope-activate-button");oscilloscopeButton.addEventListener("click",(()=>{toggleOscilloscope()}));