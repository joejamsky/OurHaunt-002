const audioFileUrl="../assets/audio/ImperialMarch60.wav",audioContext=new(window.AudioContext||window.webkitAudioContext);let oscilloscopeActive=!1;function renderOscilloscope(e){const t=document.getElementById("oscilloscope-svg"),o=t.clientWidth,l=t.clientHeight;t.innerHTML="";const i=document.createElementNS("http://www.w3.org/2000/svg","polyline");i.setAttribute("fill","none"),i.setAttribute("stroke","white"),i.setAttribute("stroke-width","1"),t.appendChild(i);const c=audioContext.createAnalyser();c.fftSize=256;const s=audioContext.createBufferSource();s.buffer=e,s.connect(c);const n=()=>{const e=new Float32Array(c.fftSize);c.getFloatTimeDomainData(e);const t=Math.floor(e.length/o),s=l/2;let a="";for(let i=0;i<o;i++){const o=(i+1)*t;let c=0;for(let l=i*t;l<o;l++){const t=Math.abs(e[l]);c=Math.max(c,t)}a+=`${i},${l/2-c*s} `}i.setAttribute("points",a),"running"===audioContext.state&&requestAnimationFrame(n)};s.start(),n()}function toggleOscilloscope(){oscilloscopeActive=!oscilloscopeActive}function activateOscilloscope(){oscilloscopeActive=!0}function disableOscilloscope(){oscilloscopeActive=!1}const oscilloscopeSliderInteger=document.getElementById("oscilloscope-slider-integer"),oscilloscopeSliderDecimal=document.getElementById("oscilloscope-slider-decimal"),oscilloscopeValueInteger=document.getElementById("oscilloscope-value-integer"),oscilloscopeValueDecimal=document.getElementById("oscilloscope-value-decimal");oscilloscopeSliderInteger.addEventListener("input",(e=>{oscilloscopeValueInteger.innerHTML=`${parseFloat(e.target.value)}`})),oscilloscopeSliderDecimal.addEventListener("input",(e=>{oscilloscopeValueDecimal.innerHTML=`.${parseFloat(e.target.value)}`}));