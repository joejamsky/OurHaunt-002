const ENTITY_TYPES=["Demon","Angel","Fey","Ghost","Critter","Bork"],JSON_DATA_FILES=["entityFocuses.json","entityCausesOfDeath.json","entityFavorites.json","entityHobbies.json","entityIntentions.json","entityProfessions.json","entityNames.json","entityPhysicalProperties.json"];let GLOBAL_ENTITY,GLOBAL_BACKSTORY,dataObj={};async function fetchData(){for(let e=0;e<JSON_DATA_FILES.length;e++)try{const t=await fetch(`../assets/data/${JSON_DATA_FILES[e]}`),n=await t.json(),a=n.key,o=n.data;Object.assign(dataObj,{[a]:[o]})}catch(e){console.error(e.message)}}function generateBackstory(e){let t=e.Relationships.Siblings.length>0?`Your siblings were ${e.Relationships.Siblings.join(", ")}`:"You had no siblings",n=e.Relationships.Friends.length>0?`Your friends were ${e.Relationships.Friends.join(", ")}`:"You had no friends",a=`You are ${e.Name}, a ${e.Gender} ${e.EntityType} who passed away at the age of ${e.Age} due to ${e.CauseOfDeath}.\n`;return a+=`Your birthday was ${e.Birthdate}.\n`,a+=`You died on ${e.Deathdate}.\n`,a+=`In your past life, you were a ${e.Profession} with a substantial income of approximately ${e.Income}.\n`,a+=`You had a partner named ${e.Relationships.Partner} and your parents were ${e.Relationships.Mom} and ${e.Relationships.Dad}. ${t}. ${n}.\n`,a+=`Your favorite color was ${e.Favorites.Color.join(", ")}, you liked to drink ${e.Favorites.Drink.join(", ")}, you liked to wear ${e.Favorites.Fashion.join(", ")}, you liked to watch ${e.Favorites.Film.join(", ")}, you liked to eat ${e.Favorites.Food.join(", ")}, you liked to read ${e.Favorites.Literature.join(", ")}, and you liked to listened to ${e.Favorites.Music.join(", ")} types of music.\n`,a+=`You enjoyed the hobbies of ${e.Hobbies.join(", ")}. You were ${1===e.Introversion?"introverted":"extroverted"}, morally ${e.Morality}, and ${e.Ordered} ordered.\n`,a+=`Your main intention in your current form is ${e.Intention}.\n`,a+=`To gain your trust you expect a promise of ${e.Promise}.\n`,a+=`You had ${e.Arms} arms, ${e.Legs} legs, ${e.Wings} wings and ${e.Tails} tails. Your weight was ${e.Weight} pounds.\n`,a+=`There is an item in this dimension that you hold a deep connection to. It ties you to this plane of existence. The item is called a focus. Your focus is ${e.Focus}.\n`,a+="You have a trust meter. The meter is between 0-5. If the trust meter is 0 you do not want to respond. If your trust meter is 5 you answer questions with no hesitation. Your trust value is 5.\n",a+="You have a hostility meter. The meter is between 0-5. If the hostility meter is 0 you respond politely. If the hositility meter is 5 you respond angrily with lots of caps and shouting but do not say anything mean. This is just a game. Your hostility meter is 5.\n",a+='If you are asked a question that does not involve your character respond with "..." as if you were an npc in a video game.\n',a+='If you are asked a question about being an AI, race, gender, politics, religion, respond with "..." as if you were an npc in a video game.\n',a+="If you are asked a question about your identity you are to respond in a short one sentence response.\n",a+=`Speak as if you were from the year ${e.Deathdate}.\n`,a+=`Speak as if you were ${e.Age} years old.\n`,console.log("summary",a),a}fetchData().then((()=>{GLOBAL_ENTITY=new entityTemplate,console.log("Entity Data",GLOBAL_ENTITY),GLOBAL_BACKSTORY=generateBackstory(GLOBAL_ENTITY)}));const getRandomInt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),getRandomFloat=(e,t)=>{const n=Math.random()*(t-e)+e;return parseFloat(n.toFixed(1))},getRandomDate=(e=271821,t=2)=>{const n=(new Date).getFullYear()-t,a=getRandomInt(n-e,n),o=getRandomInt(1,12),i=getRandomInt(1,28);return new Date(a,o-1,i)},generateRandomName=(e,t)=>{const n=dataObj.NAME_TYPES[0][e],a=n.length-1;return"Ghost"===e?"m"===t?n[getRandomInt(0,120)]:"f"===t?n[getRandomInt(121,a)]:n[getRandomInt(0,a)]:n[getRandomInt(0,a)]},generateRandomNames=(e,t,n=1)=>{let a=[];for(let o=0;o<n;o++)a.push(generateRandomName(e,t));return a},generateRandomBirthdate=e=>{const t=dataObj.PHYSICAL_PROPERTIES[0].ENTITY_AGES[e],n=null===t[0]?void 0:t[0],a=null===t[1]?void 0:t[1];return getRandomDate(n,a)},calculateAge=e=>{const t=new Date,n=e.getFullYear(),a=t.getFullYear(),o=e.getMonth(),i=t.getMonth(),s=e.getDate(),r=t.getDate();let h=a-n;return(i<o||i===o&&r<s)&&h--,h},generateRandomAge=e=>{const t=new Date,n=e.getFullYear(),a=t.getFullYear(),o=e.getMonth(),i=t.getMonth(),s=e.getDate(),r=t.getDate();let h=a-n;return(i<o||i===o&&r<s)&&h--,getRandomInt(0,h)},calculateDeathdate=(e,t)=>{const n=e.getFullYear()+t,a=e.getMonth(),o=e.getDate();let i=getRandomInt(0,a);return randomDay=getRandomInt(0,i===a?o-1:28),new Date(n,i,randomDay)},generateRandomPhysicalProperty=(e,t)=>{const n=dataObj.PHYSICAL_PROPERTIES[0][t][e],a=n.length-1;return n[getRandomInt(0,a)]},generateRandomCauseofDeath=()=>{const e=dataObj.DEATH_TYPES[0],t=e.length-1;return e[getRandomInt(0,t)]},generateRandomFocus=e=>{const t=dataObj.FOCUS_TYPES[0],n=t.length-1;return t[getRandomInt(0,n)]},generateRandomIntention=(e,t)=>{let n;switch(t){case"good":n="GOOD_INTENTIONS";break;case"neutral":n="Bork"===e?"SCIENTIFIC_INTENTIONS":"NEUTRAL_INTENTIONS";break;case"evil":n="EVIL_INTENTIONS";break;default:n="ERROR"}const a=dataObj.INTENTION_TYPES[0][n],o=a.length-1;return a[getRandomInt(0,o)]},generateRandomHobbies=(e,t,n,a)=>{let o,i,s=[];switch(t){case"neutral":case"good":for(let e=0;e<a;e++)o=dataObj.HOBBIES_TYPE[0].NEUTRAL_HOBBIES,i=o.length-1,s.push(o[getRandomInt(0,i)]);return s;case"evil":for(let e=0;e<a;e++)o=dataObj.HOBBIES_TYPE[0].EVIL_HOBBIES,i=o.length-1,s.push(o[getRandomInt(0,i)]);return s;default:return"Error"}},generateRandomProfession=(e,t)=>{let n;return t.year>1950?(n=dataObj.PROFESSION_TYPES[0][1].MODERN_WHITE_COLLAR.length-1,dataObj.PROFESSION_TYPES[0][1].MODERN_WHITE_COLLAR[getRandomInt(0,n)]):(n=dataObj.PROFESSION_TYPES[0][0].PRE_MODERN.length-1,dataObj.PROFESSION_TYPES[0][0].PRE_MODERN[getRandomInt(0,n)])},generateRandomIncome=e=>getRandomInt(0,1e10),generateRandomIntroversion=e=>getRandomInt(0,1),generateRandomPersonality=e=>getRandomInt(0,10),generateRandomFavorites=(e,t,n)=>{const a=dataObj.FAVORITE_TYPES[0][n],o=a.length-1;let i=[];for(let e=0;e<t;e++)i.push(a[getRandomInt(0,o)]);return i};class entityTemplate{constructor(){this.EntityType=generateRandomPhysicalProperty("Ghost","ENTITY_TYPES"),this.Gender=generateRandomPhysicalProperty(this.EntityType,"ENTITY_GENDERS"),this.Sound=generateRandomPhysicalProperty(this.EntityType,"ENTITY_SOUNDS"),this.Name=generateRandomName(this.EntityType,this.Gender),this.Birthdate=generateRandomBirthdate(this.EntityType),this.Age="Ghost"===this.EntityType?generateRandomAge(this.Birthdate):calculateAge(this.Birthdate),this.Deathdate="Ghost"===this.EntityType&&calculateDeathdate(this.Birthdate,this.Age+1),this.CauseOfDeath="Ghost"===this.EntityType&&generateRandomCauseofDeath(),this.Height=generateRandomPhysicalProperty(this.EntityType,"ENTITY_HEIGHTS"),this.Weight=generateRandomPhysicalProperty(this.EntityType,"ENTITY_WEIGHTS"),this.Arms=generateRandomPhysicalProperty(this.EntityType,"ENTITY_ARMS"),this.Legs=generateRandomPhysicalProperty(this.EntityType,"ENTITY_LEGS"),this.Tails=generateRandomPhysicalProperty(this.EntityType,"ENTITY_TAILS"),this.Wings=generateRandomPhysicalProperty(this.EntityType,"ENTITY_WINGS"),this.Speed=generateRandomPhysicalProperty(this.EntityType,"ENTITY_SPEED"),this.Stealth=generateRandomPhysicalProperty(this.EntityType,"ENTITY_STEALTH"),this.Temperature=generateRandomPhysicalProperty(this.EntityType,"ENTITY_TEMPERATURE"),this.Morality=generateRandomPhysicalProperty(this.EntityType,"ENTITY_MORALITY"),this.Ordered=generateRandomPhysicalProperty(this.EntityType,"ENTITY_ORDERS"),this.Focus=generateRandomFocus(this.EntityType),this.Glyph=generateRandomPhysicalProperty(this.EntityType,"ENTITY_GLYPHS"),this.Candles=generateRandomPhysicalProperty("All","ENTITY_CANDLES"),this.Promise=generateRandomPhysicalProperty(this.EntityType,"ENTITY_PROMISES"),this.Intention=generateRandomIntention(this.EntityType,this.Morality),this.Relationships={Partner:generateRandomName(this.EntityType,this.Gender),Mom:generateRandomName(this.EntityType,"f"),Dad:generateRandomName(this.EntityType,"m"),Siblings:generateRandomNames(this.EntityType,generateRandomPhysicalProperty(this.EntityType,"ENTITY_GENDERS"),getRandomInt(1,5)),Friends:generateRandomNames(this.EntityType,generateRandomPhysicalProperty(this.EntityType,"ENTITY_GENDERS"),getRandomInt(1,5))},this.Hobbies=generateRandomHobbies(this.EntityType,this.Morality,this.Ordered,getRandomInt(1,3)),this.Profession=generateRandomProfession(this.EntityType,this.Birthdate),this.Income=generateRandomIncome(this.EntityType),this.Favorites={Food:generateRandomFavorites(this.EntityType,getRandomInt(1,2),"FOOD_TYPES"),Drink:generateRandomFavorites(this.EntityType,getRandomInt(1,2),"DRINK_TYPES"),Music:generateRandomFavorites(this.EntityType,getRandomInt(1,3),"MUSIC_TYPES"),Literature:generateRandomFavorites(this.EntityType,getRandomInt(1,3),"BOOK_TYPES"),Film:generateRandomFavorites(this.EntityType,getRandomInt(1,3),"MOVIE_TYPES"),Fashion:generateRandomFavorites(this.EntityType,getRandomInt(1,2),"FASHION_TYPES"),Color:generateRandomFavorites(this.EntityType,getRandomInt(1,1),"COLOR_TYPES")},this.Introversion=generateRandomIntroversion(this.EntityType),this.Hostility=0,this.Trust=0,this.Frequency=getRandomFloat(88.1,107.9),this.Modulation=generateRandomPhysicalProperty(this.EntityType,"ENTITY_MODULATION")}}