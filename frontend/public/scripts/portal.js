import{swapTexture}from"./app.js";const scrollablePortalDivs=document.getElementsByClassName("portal-list");let portalStatus={type:!1,candle:!1,focus:!1},portalOpen=!1;Array.from(scrollablePortalDivs).forEach((t=>{t.addEventListener("scroll",(function(){0===t.scrollTop?(t.classList.remove("scroll-up"),t.classList.add("scroll-down")):t.scrollTop+t.clientHeight>t.scrollHeight-10?(t.classList.add("scroll-up"),t.classList.remove("scroll-down")):(t.classList.add("scroll-down"),t.classList.add("scroll-up"))}))})),$(".portal-list").each((function(){const t=$(this).find(".portal-item");t.click((function(l){var e=$(this);e.hasClass("active")?e.removeClass("active"):(t.removeClass("active"),e.addClass("active"))}))})),$(".glyph-list .portal-item").each((function(){$(this).click((function(t){t.preventDefault();const l=$(t.target).closest(".portal-item").attr("data-detail");handlePortalCheck("type",l)}))})),$(".candle-list .portal-item").each((function(){$(this).click((function(t){t.preventDefault();const l=$(t.target).closest(".portal-item").attr("data-detail");handlePortalCheck("candle",l)}))})),$(".focus-list .portal-item").each((function(){$(this).click((function(t){t.preventDefault();const l=$(t.target).closest(".portal-item").attr("data-detail");handlePortalCheck("focus",l)}))}));const handlePortalCheck=(t,l)=>{console.log("item",t),console.log("GLOBAL_ENTITY[item]",GLOBAL_ENTITY[t]),console.log("detail",l),console.log("check",GLOBAL_ENTITY[t].toLowerCase()===l),GLOBAL_ENTITY[t].toLowerCase()===l?portalStatus[t]=!portalStatus[t]:portalStatus[t]=!1,portalOpen=areAllTrue(portalStatus),portalOpen?($(".portal-module").addClass("active"),$(".judgement-row").removeClass("hide")):($(".portal-module").removeClass("active"),$(".judgement-row").addClass("hide"))};function areAllTrue(t){for(let l in t)if(t.hasOwnProperty(l)&&!t[l])return!1;return!0}