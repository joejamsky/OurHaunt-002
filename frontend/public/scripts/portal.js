import{swapTexture}from"./app.js";const scrollablePortalDivs=document.getElementsByClassName("portal-list");let portalStatus={type:!1,candle:!1,focus:!1},portalOpen=!1;Array.from(scrollablePortalDivs).forEach((t=>{t.addEventListener("scroll",(function(){0===t.scrollTop?(t.classList.remove("scroll-up"),t.classList.add("scroll-down")):t.scrollTop+t.clientHeight>t.scrollHeight-10?(t.classList.add("scroll-up"),t.classList.remove("scroll-down")):(t.classList.add("scroll-down"),t.classList.add("scroll-up"))}))})),$(".portal-list").each((function(){const t=$(this).find(".portal-item");t.click((function(e){var l=$(this);l.hasClass("active")?l.removeClass("active"):(t.removeClass("active"),l.addClass("active"))}))})),$(".glyph-list .portal-item").each((function(){$(this).click((function(t){t.preventDefault();const e=$(t.target).closest(".portal-item").attr("data-detail");handlePortalCheck("type",e)}))})),$(".candle-list .portal-item").each((function(){$(this).click((function(t){t.preventDefault();const e=$(t.target).closest(".portal-item").attr("data-detail");handlePortalCheck("candle",e)}))})),$(".focus-list .portal-item").each((function(){$(this).click((function(t){t.preventDefault();const e=$(t.target).closest(".portal-item").attr("data-detail");handlePortalCheck("focus",e)}))}));const handlePortalCheck=(t,e)=>{console.log("item",t),console.log("GLOBAL_ENTITY[item]",GLOBAL_ENTITY[t]),console.log("detail",e),console.log("check",GLOBAL_ENTITY[t].toLowerCase()===e),GLOBAL_ENTITY[t].toLowerCase()===e?portalStatus[t]=!portalStatus[t]:portalStatus[t]=!1,portalOpen=areAllTrue(portalStatus),portalOpen?($("#portal-module").addClass("active"),$(".judgement-row").removeClass("hide"),$("#judgement-disable").addClass("hide")):($("#portal-module").removeClass("active"),$(".judgement-row").addClass("hide"),$("#judgement-disable").removeClass("hide"))};function areAllTrue(t){for(let e in t)if(t.hasOwnProperty(e)&&!t[e])return!1;return!0}