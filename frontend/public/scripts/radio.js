const audioFileUrl="../assets/audio/ImperialMarch60.wav",audioContext=new(window.AudioContext||window.webkitAudioContext);let radioActive=!1;function renderRadio(e){const t=document.getElementById("radio-svg"),o=t.clientWidth,a=t.clientHeight;t.innerHTML="";const i=document.createElementNS("http://www.w3.org/2000/svg","polyline");i.setAttribute("fill","none"),i.setAttribute("stroke","white"),i.setAttribute("stroke-width","1"),t.appendChild(i);const n=audioContext.createAnalyser();n.fftSize=256;const r=audioContext.createBufferSource();r.buffer=e,r.connect(n);const d=()=>{const e=new Float32Array(n.fftSize);n.getFloatTimeDomainData(e);const t=Math.floor(e.length/o),r=a/2;let l="";for(let i=0;i<o;i++){const o=(i+1)*t;let n=0;for(let a=i*t;a<o;a++){const t=Math.abs(e[a]);n=Math.max(n,t)}l+=`${i},${a/2-n*r} `}i.setAttribute("points",l),"running"===audioContext.state&&requestAnimationFrame(d)};r.start(),d()}function toggleRadio(){radioActive=!radioActive}function activateRadio(){radioActive=!0}function disableRadio(){radioActive=!1}const radioSliderInteger=document.getElementById("radio-slider-integer"),radioSliderDecimal=document.getElementById("radio-slider-decimal"),radioValueInteger=document.getElementById("radio-value-integer"),radioValueDecimal=document.getElementById("radio-value-decimal");function initRadio(){setFrequency(88.1),setModulation(0),checkRadioMatch(),console.log("frequencyBool",frequencyBool),console.log("modulationBool",modulationBool)}let frequencyBool=!1,modulationBool=!1;const setFrequency=e=>{frequencyBool=Math.abs(GLOBAL_ENTITY.Frequency-parseFloat(e))<=1,checkRadioMatch()},setModulation=e=>{modulationBool=parseInt(GLOBAL_ENTITY.Modulation)===parseInt(e),checkRadioMatch()},radioValuesContainer=document.getElementById("radio-values-container"),checkRadioMatch=()=>{modulationBool&&frequencyBool?radioValuesContainer.classList.add("active"):radioValuesContainer.classList.remove("active")};radioSliderInteger.addEventListener("input",(e=>{radioValueInteger.innerHTML=`${parseFloat(e.target.value).toFixed(1)}`,setFrequency(parseFloat(e.target.value).toFixed(1))})),radioSliderDecimal.addEventListener("input",(e=>{0==e.target.value?radioValueDecimal.innerHTML="AM":radioValueDecimal.innerHTML="FM",setModulation(e.target.value)}));