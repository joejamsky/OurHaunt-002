const audioFileUrl="../assets/audio/ImperialMarch60.wav",audioContext=new(window.AudioContext||window.webkitAudioContext);let radioActive=!1;function renderRadio(e){const t=document.getElementById("radio-svg"),i=t.clientWidth,o=t.clientHeight;t.innerHTML="";const a=document.createElementNS("http://www.w3.org/2000/svg","polyline");a.setAttribute("fill","none"),a.setAttribute("stroke","white"),a.setAttribute("stroke-width","1"),t.appendChild(a),e.fftSize=2048;const d=e.fftSize,n=new Uint8Array(d),r=()=>{e.getByteTimeDomainData(n);let t="";for(let e=0;e<d;e++){t+=`${e*i/d},${n[e]/255*o} `}a.setAttribute("points",t),requestAnimationFrame(r)};r()}function toggleRadio(){radioActive=!radioActive}function activateRadio(){radioActive=!0}function disableRadio(){radioActive=!1}const radioSliderInteger=document.getElementById("radio-slider-integer"),radioSliderDecimal=document.getElementById("radio-slider-decimal"),radioValueInteger=document.getElementById("radio-value-integer"),radioValueDecimal=document.getElementById("radio-value-decimal");function initRadio(){setFrequency(88.1),setModulation(0),checkRadioMatch()}let frequencyBool=!1,modulationBool=!1;const setFrequency=e=>{frequencyBool=Math.abs(GLOBAL_ENTITY.frequency-parseFloat(e))<=1,checkRadioMatch()},setModulation=e=>{modulationBool=parseInt(GLOBAL_ENTITY.modulation)===parseInt(e),checkRadioMatch()},checkRadioMatch=()=>{modulationBool&&frequencyBool?(document.getElementById("radio-values-container").classList.add("active"),document.getElementById("voice-board-border").classList.remove("hide"),document.getElementById("voice-identifier").classList.remove("hide"),document.getElementById("voice-disable").classList.add("hide"),activateRadio()):(document.getElementById("radio-values-container").classList.remove("active"),document.getElementById("voice-board-border").classList.add("hide"),document.getElementById("voice-identifier").classList.add("hide"),document.getElementById("voice-disable").classList.remove("hide"),disableRadio())};radioSliderInteger.addEventListener("input",(e=>{radioValueInteger.innerHTML=`${parseFloat(e.target.value).toFixed(1)}`,setFrequency(parseFloat(e.target.value).toFixed(1))})),radioSliderDecimal.addEventListener("input",(e=>{0==e.target.value?radioValueDecimal.innerHTML="AM":radioValueDecimal.innerHTML="FM",setModulation(e.target.value)}));