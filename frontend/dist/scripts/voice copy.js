const voiceForm=document.getElementById("voice-form"),voiceFormInput=document.getElementById("voice-input"),voiceFormMicButton=document.getElementById("voice-mic-button");var fontarr=["font-family: courier new, sans-serif","font-family: comic sans, sans-serif","font-family: arial black, sans-serif"];function fontRandomizer(e){return'<span style="'+fontarr[Math.floor((3*Math.random()+1)%3)]+'">'+e+"</span>"}function typeWriterEffect(e,t="voice-response",o=250){const n=document.getElementById(t);let c="",i=0;!function t(){i<e.length&&(c+=e.charAt(i),n.innerText=c,i++,setTimeout(t,o))}()}function checkInputPhrase(e){console.log("phrase",e),e.toLowerCase().includes("name")?typeWriterEffect("My name is Baba Yaga."):e.toLowerCase().includes("help")&&typeWriterEffect("There is no help.")}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(SpeechRecognition){console.log("Speech recognition connected.");const e=new SpeechRecognition;e.continuous=!0;const t=voiceFormMicButton.firstElementChild;function micBtnClick(){t.classList.contains("fa-microphone")?e.start():e.stop()}function startSpeechRecognition(){t.classList.remove("fa-microphone"),t.classList.add("fa-ear-listen"),voiceFormInput.focus(),console.log("Voice activated, SPEAK")}function endSpeechRecognition(){t.classList.remove("fa-ear-listen"),t.classList.add("fa-microphone"),voiceFormInput.focus(),console.log("Speech recognition service disconnected"),checkInputPhrase(transcript)}var transcript;function resultOfSpeechRecognition(t){const o=t.resultIndex;transcript=t.results[o][0].transcript,console.log("transcript",transcript),"close channel"===transcript.toLowerCase().trim()?e.stop():voiceFormInput.value?"go"===transcript.toLowerCase().trim()||("reset input"===transcript.toLowerCase().trim()?voiceFormInput.value="":voiceFormInput.value=transcript):voiceFormInput.value=transcript}voiceFormMicButton.addEventListener("click",micBtnClick),e.addEventListener("start",startSpeechRecognition),e.addEventListener("end",endSpeechRecognition),e.addEventListener("result",resultOfSpeechRecognition)}else console.log("Your Browser does not support speech Recognition"),alert("Your Browser does not support Speech Recognition");